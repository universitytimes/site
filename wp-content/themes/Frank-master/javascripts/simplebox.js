// Generated by CoffeeScript 1.3.3
var FLB;FLB=function(){function i(e,t){this.element=e;Object.prototype.toString.call(t)==="[object Object]"?this.options=t:this.options={};this.options.resizeImage=!1;this.init()}var e,t,n,r;i.prototype.init=function(){var t;t=this;this.element.onclick=function(n){return e(n,t)}};i.prototype.createOverlay=function(e){var r;r=this;this.overlay=document.createElement("div");this.overlay.setAttribute("id","flb-overlay");this.overlay.innerHTML='<div id="flb-container"><a href="#" title="Close" class="closingElement">&nbsp;</a></div><div id="flb-content"><a id="flb-image" class="closingElement" href="#" title="Close"></a><a id="flb-close" class="closingElement" href="#" title="Close">&nbsp;</a></div>';document.getElementsByTagName("body")[0].appendChild(this.overlay);this.container=document.getElementById("flb-content");this.container.style.width="100px";this.container.style.height="100px";this.container.style.margin="-50px 0 0 -50px";this.container.onclick=this.overlay.onclick=function(e){return t(e,r)};this.imgContainer=document.getElementById("flb-image");this.imgContainer.style.background="url("+e+") no-repeat 50% 50%";this.image=new Image;this.image.onload=function(e){return n(e,r)};this.image.src=e};n=function(e,t){var n,i,s,o;if(!t.options.resizeImage){i=t.image.height;s=t.image.width}else{o=document.documentElement.clientHeight-40;if(t.image.height<o){i=t.image.height;s=t.image.width}else{i=o;s=Math.round(o*t.image.width/t.image.height);t.image.height=i;t.image.width=s}}n=function(){return r(t.container,s,i)};setTimeout(n,600)};r=function(e,t,n){e.style.width=t+"px";e.style.height=n+"px";e.style.margin="-"+(n+28)/2+"px 0 0 -"+t/2+"px";e.setAttribute("class","active")};e=function(e,t){t.createOverlay(e.target.getAttribute("href"));e.cancelBubble=!0;e.stopPropagation();return!1};t=function(e,t){t.container.setAttribute("class","");document.getElementsByTagName("body")[0].removeChild(t.overlay)};return i}();